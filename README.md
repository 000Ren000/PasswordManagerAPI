# Password Manager API

Это API для безопасного управления паролями. Оно поддерживает создание, шифрование, хранение и извлечение паролей по сервисам для авторизованных пользователей. Пароли шифруются с использованием симметричного шифрования (AES-256-CBC) и хранятся в SQLite. Для авторизации используется JWT (JSON Web Token).

## Стек технологий

- **Node.js** с Express для создания API.
- **SQLite** для хранения данных.
- **Crypto** для шифрования и дешифрования паролей.
- **JWT** для авторизации.
- **Docker** для контейнеризации приложения.

## Возможности API

- **Регистрация**: создание нового пользователя.
- **Авторизация**: логин с использованием логина и пароля для получения JWT.
- **Добавление паролей**: шифрование и сохранение паролей для различных сервисов.
- **Получение паролей**: расшифровка и получение паролей по имени сервиса или получение всех паролей.

## Установка и запуск проекта

### Локальный запуск

1. Клонируйте репозиторий:

   bash

   Копировать код

   `git clone https://github.com/yourusername/password-manager-api.git cd password-manager-api`

2. Установите зависимости:

   bash

   Копировать код

   `npm install`

3. Запустите приложение:

   bash

   Копировать код

   `npm start`


Приложение будет доступно по адресу `http://localhost:5000`.

### Запуск с Docker

1. Убедитесь, что у вас установлен Docker и Docker Compose.

2. Постройте Docker-образ:

   bash

   Копировать код

   `docker build -t password-manager .`

3. Запустите контейнер:

   bash

   Копировать код

   `docker run -d -p 5000:5000 password-manager`


Приложение будет доступно по адресу `http://localhost:5000`.

### Запуск с Docker Compose

Если вы используете Docker Compose, выполните следующую команду для сборки и запуска контейнера:

bash

Копировать код

`docker-compose up --build`

Приложение будет доступно по адресу `http://localhost:5000`.

## Эндпоинты API

### 1. Регистрация пользователя

- **URL**: `/register`
- **Метод**: `POST`
- **Описание**: Создание нового пользователя.
- **Тело запроса**:

  json

  Копировать код

  `{   "username": "exampleUser",   "password": "examplePassword" }`

- **Ответы**:
  - `201 Created`: Пользователь успешно зарегистрирован.
  - `400 Bad Request`: Имя пользователя уже существует.

### 2. Авторизация пользователя

- **URL**: `/login`
- **Метод**: `POST`
- **Описание**: Аутентификация пользователя и получение JWT.
- **Тело запроса**:

  json

  Копировать код

  `{   "username": "exampleUser",   "password": "examplePassword" }`

- **Ответы**:
  - `200 OK`: Успешная аутентификация, возвращается JWT-токен.
  - `401 Unauthorized`: Неверный логин или пароль.

### 3. Добавление пароля для сервиса

- **URL**: `/add_password`
- **Метод**: `POST`
- **Требуется JWT**: Да (в заголовке `Authorization: Bearer <token>`)
- **Описание**: Добавление зашифрованного пароля для указанного сервиса.
- **Тело запроса**:

  json

  Копировать код

  `{   "service_name": "exampleService",   "password": "examplePasswordForService" }`

- **Ответы**:
  - `201 Created`: Пароль успешно добавлен.
  - `401 Unauthorized`: Токен недействителен или отсутствует.

### 4. Получение всех паролей

- **URL**: `/get_passwords`
- **Метод**: `GET`
- **Требуется JWT**: Да (в заголовке `Authorization: Bearer <token>`)
- **Описание**: Получение всех паролей для авторизованного пользователя.
- **Ответы**:

  - `200 OK`: Список всех паролей в расшифрованном виде.

  json

  Копировать код

  `{   "passwords": [     {       "service_name": "exampleService1",       "password": "originalPassword1"     },     {       "service_name": "exampleService2",       "password": "originalPassword2"     }   ] }`

  - `401 Unauthorized`: Токен недействителен или отсутствует.

### 5. Получение пароля по имени сервиса

- **URL**: `/get_password/:service_name`
- **Метод**: `GET`
- **Требуется JWT**: Да (в заголовке `Authorization: Bearer <token>`)
- **Описание**: Получение расшифрованного пароля для указанного сервиса.
- **Пример запроса**:

  bash

  Копировать код

  `GET /get_password/google Authorization: Bearer <token>`

- **Ответы**:

  - `200 OK`: Пароль успешно расшифрован.

  json

  Копировать код

  `{   "service_name": "google",   "password": "originalPasswordForGoogle" }`

  - `404 Not Found`: Сервис не найден для текущего пользователя.
  - `401 Unauthorized`: Токен недействителен или отсутствует.

## Безопасность

- Все пароли шифруются с использованием симметричного алгоритма шифрования AES-256-CBC.
- Пароли хранятся в зашифрованном виде в базе данных и расшифровываются только по запросу пользователя.
- Авторизация осуществляется с помощью JWT (JSON Web Token), что позволяет безопасно идентифицировать пользователей.

## Переменные окружения

- `SECRET_KEY`: Используется для генерации JWT-токенов.
- `ENCRYPTION_KEY`: Используется для шифрования/дешифровки паролей.

## Лицензия

Этот проект распространяется под лицензией MIT.
